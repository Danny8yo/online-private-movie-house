# **用例描述——配置房间**

## 1.	简略描述
该用例描述了房主如何管理房间及其设置房间的配置。

## 2.	用例图


## 3.	前置条件
●	 房主需要正确设置好用户名。  
●	 房主必须正确的创建房间。  
●	 软件和服务器之间的网络连接必须是有效的。  
●	 创建房间需要满足系统限制。  

## 4.	基本流   
{创建房间}  
1.当用户成功创建好房间，用例开始执行。   
{管理房间的基本信息}  
2.设置房间的最大人数。  
3.设置房间的权限，是否为公开以及设置密码  
{管理在房间的用户}  
4.提拔用户为管理员。  
5.取消某个用户的管理员身份。  
{解散房间}  
6.解散当前房间。 
7.用例终止。  

## 5.	备选流
### 5.1	目标用户不存在或已离开房间
基本流步骤4（提拔管理员）、5（取消管理员）中，用户选择的目标用户已不在房间内，但是成员列表可能未实时刷新，或用户操作时有延迟，则  
1.	系统发现目标用户不存在或已离开，弹出提示：目标用户已离开房间。  
2.	房主点击 “确定”。  
3.	用户可以刷新成员列表后重新尝试操作。  

### 5.2	网络异常
在基本流步骤 2-6 中，任何需要与系统交互的操作都可能因网络问题而失败。若网络不稳定或断开，则  
1.	房主执行某个操作（如设置最大人数、提拔管理员）。  
2.	系统尝试向服务器发送请求，但网络请求超时或失败。  
3.	系统弹出提示信息：“网络异常，请检查您的网络连接后重试。”，并提供 “重试” 和 “取消” 按钮。  
4.	分支 A (用户选择重试)：用户点击 “重试”。  
系统重新执行该操作的网络请求。如果成功，则流程返回到基本流的原步骤继续执行；如果再次失败，则可能再次显示此备选流或提示 “操作失败”。  
5.	分支 B (用户选择取消)：用户点击 “取消”。
操作被放弃。  

## 6.	子流
### 6.1	设置房间最大人数
1.	系统展示当前房间最大人数设置。  
2.	用户输入或选择新的最大人数。  
3.	系统校验输入的人数是否有效。  
4.	人数是否在系统允许的范围内。  
5.	新的最大人数是否大于当前房间内的实际人数（如果当前已有 5 人，不能设置最大人数为 3）。  
6.	若校验通过，系统保存新的最大人数设置。  
7.	系统更新房间信息界面，显示新的最大人数。  
8.	子流结束，返回到基本流的调用点。  

### 6.2	确定是否为房主身份
a．系统判定：要求用户必须为房主才可以显示配置房间的接口。  
b．系统判定：操作用户是否为房主。如果为房主，则可以配置房间信息。注意房主只能配置房间的信息和权限，不可以管理片场和管理普通用户。  

### 6.3	设置房间权限
1.	用户设置房间权限为不公开，系统在表单下方显示密码输入框，选择四位密码还是六位密码。  
2.	用户输入密码，系统实时校验（如 “密码不能为连续数字”“密码不能全为相同数字”）。  
3.	用户确认密码后，系统再次问管理员是否确定，完成后便成功设置。  

## 7.	后置条件
●	房间基本信息已更新，如更改房间最大人数和权限。  
●	房间成员的权限已更新。  
●	房间已被解散。  

## 8.	公共扩展
无。 

## 9.	特殊条件
无。 
