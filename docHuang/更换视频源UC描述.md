# 更换视频流用例描述

## 用例概述
- **用例名称**: 更换视频流
- **用例ID**: UC-R03
- **简要描述**: 管理员更换房间当前播放的视频内容

## 前置条件
1. 房间已经存在。

## 基本事件流

### {启动用例}
1. 参与者"管理员"选择房间管理选项中的"更换视频"时，就启动了用例。

### {身份验证}
2. 系统获取用户身份信息，并与房间所属管理员信息进行匹配。用于验证当前用户是否具有操作权限。

### {选择视频}
3. 系统显示系统视频库，提示用户选择库中视频。
4. "管理员"选择某个视频。

### {检查可用性}
5. 系统检查当前选中的视频是否能用于建立视频流连接。

### {确认操作}
6. 执行"确认是否执行"子流。

### {执行更换操作}
7. 系统关闭当前的视频流连接。
8. 系统建立房间与选中视频的视频流连接。

### {用例终止}
9. 用例终止。

---

## 备选流

### A1: 处理更换外部链接视频
- **触发条件**: 在{选择视频}处，如果管理员需要的是外部网络的视频
- **处理流程**:
  1. 系统提示管理员输入外部视频URL
  2. 管理员输入期望的外部视频URL
  3. 重新回到基本流的{检查可用性}处

### A2: 处理验证失败
- **触发条件**: 在{身份验证}处，如果匹配失败
- **处理流程**:
  1. 显示提示操作者"无权限"
  2. 结束用例

---

## 子流

### S1: 确认是否执行
1. 系统提示管理员选择"确认"或"取消"
2. 如果管理员选择"取消"，系统会：
   - 提示用户操作已取消
   - 结束用例
3. 事件流恢复到下一步

---

## 参与者
- **管理员**: 负责更换房间视频内容


## 后置条件
1. 房间视频源已成功更换
2. 房间视频源与播放状态不变

